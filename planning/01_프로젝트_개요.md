# 프로젝트 개요

## JetRover AI 아키텍처

**최종 통합 기술 설계 문서**  
Jetson Orin Nano 8GB • ROS2 Humble • 6DOF Mecanum Robot  
버전 3.0 | 2026년 2월

---

## 프로젝트 목표

JetRover는 Jetson Orin Nano 8GB를 두뇌로 사용하는 6DOF 로봇암 탑재 Mecanum 휠 플랫폼으로, 음성 기반 자율 이동 및 조작이 가능한 AI 로봇 시스템을 구축하는 것을 목표로 합니다.

### 주요 기능
- **음성 기반 인터랙션**: 한국어 음성 인식, 자연어 이해, 음성 합성
- **자율 이동**: SLAM 기반 맵핑, 경로 계획, 장애물 회피
- **로봇암 조작**: 6DOF 역기구학, 경로 계획, 그리퍼 제어
- **비전 분석**: 객체 감지, 장면 분석(VLM), OCR

---

## 하드웨어 플랫폼

| 구분 | 구성요소 | 사양 | 비고 |
|------|----------|------|------|
| 컴퓨터 | Jetson Orin Nano 8GB | 6코어 Cortex-A78AE, 1024 CUDA, 8GB LPDDR5 | CPU/GPU 메모리 공유 |
| OS | Ubuntu 22.04 + ROS2 Humble | JetPack 6.x, CUDA 12.6, cuDNN 9 | LTS 배포판 |
| 메칸움 구동 | MC520 DC 기어드 모터 × 4 | 12V, 1024PPR 자기 엔코더, 메탈 기어 | STM32F407 제어 |
| 로봇암 | HTD-35H3 버스 서보 × 6 | 35kg·cm, 12~14.8V, 반이중 UART TTL | 6DOF, 데이지체인 |
| 그리퍼 | HTS-21H 버스 서보 × 1 | 같은 TTL 버스 공유 | ID 7 |
| 팬틸트 | HTS-20H1 버스 서보 × 2 | 58g, 9~12.6V, 0.18s/60° | 치메라 마운트, ID 8-9 |
| MCU | STM32F407VET6 | Cortex-M4, 168MHz, FPU 내장 | USB 단일케이블 → Jetson |
| LiDAR | RPLIDAR A1 | 360°, 15Hz | slam_toolbox 입력 |
| 치메라 | DaBai DCW RGB-D | RGB + 깊이 | 팬틸트에 탑재 |
| 마이크 | 6마이크 어레이 | ALSA 멀티채널 | Porcupine 웨이크워드 |

---

## 통신 토폴로지

```
Jetson Orin Nano ─── USB ─── STM32F407 ┬── PWM+ENC ── MC520×4 (Mecanum)
                                        └── TTL 반이중 ── HTD-35H3×6 + HTS-21H×1 + HTS-20H1×2
```

| 구간 | 프로토콜 | 속도 | 비고 |
|------|----------|------|------|
| Jetson ↔ STM32 | USB CDC | Full Speed 12Mbps | 단일 케이블 (모터+서보 통합) |
| STM32 ↔ DC모터 | PWM + 엔코더 ABZ | 100Hz 제어 | 4채널 독립 PID |
| STM32 ↔ 버스서보 | 반이중 UART TTL | 115200~500000bps | 9개 데이지체인, ~50Hz 안정 |
| STM32 → Jetson | odom + IMU 토픽 | 50Hz | robot_localization EKF 입력 |

---

## 핵심 제약 조건

### 메모리 제약
- CPU와 GPU가 8GB LPDDR5 메모리를 공유하는 구조가 전체 자원 예산의 핵심 제약
- 상시 적재 시 3.03~3.68GB 사용, 여유 4.32GB
- 시나리오별 피크: 5.0~5.3GB (여유 ~2.7GB)

### 전력 제약
- Jetson 15W TDP 기준 운영
- 이동 중 LLM 동시 실행 시 16.5W로 TDP 초과 → 정책으로 차단

### PyTorch-Free
- PyTorch 런타임 완전 제거로 경량화
- sherpa-onnx + llama.cpp + ONNX Runtime 조합으로 대체

---

*JetRover AI Architecture v3.0 | Jetson Orin Nano 8GB + ROS2 Humble + 6DOF Mecanum*
